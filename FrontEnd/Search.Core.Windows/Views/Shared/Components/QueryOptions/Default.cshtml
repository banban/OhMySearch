@model Search.Core.Windows.Models.Query

<form method="post" asp-antiforgery="true" asp-controller="Query" asp-action="Index" enctype="multipart/form-data">
    <div class="row">
        <div class="col-md-12">
            <input id="QueryTerm" asp-for="QueryTerm" class="form-control searchbox" type="search" placeholder="Search Terms..." autofocus tabindex="1" />
            <button id="findBtn" class="btn btn-default" type="submit"><i class="glyphicon glyphicon-search"></i></button>
        </div>
        <div class="col-md-12">
            <select id="QueryOptions" data-placeholder="Search Options..." class="chosen-select form-control" multiple tabindex="2">
                @foreach (var group in Model.GetOptionGroups())
                {
                    <optgroup label="@group">
                        @foreach (var option in Model.GetOptions(group))
                        {
                            if (option.Selected == true)
                            {
                                <option selected value="@option.Key">@option.Value</option>
                            }
                            else
                            {
                                <option value="@option.Key">@option.Value</option>
                            }
                        }
                    </optgroup>
                }
            </select>
            <input id="ChosenOptions" hidden asp-for="ChosenOptions" />
        </div>
    </div>
</form>
